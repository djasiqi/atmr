[flake8]
# Ignore les dossiers des environnements virtuels et les dépendances
exclude =
    .git,
    __pycache__,
    venv,
    .venv,
    env,
    .env,
    */site-packages/*

# Aligner avec Ruff (line-length=88, valeur par défaut de ruff format)
max-line-length = 88

# Ignorer certaines règles qui sont gérées par Ruff
# E203: whitespace before ':' (conflit avec black/ruff)
# W503: line break before binary operator (conflit avec black/ruff)
extend-ignore =
    E203,
    W503

# Ignorations par fichier
per-file-ignores =
    # Fichier d'entrée avec monkey patching avant imports
    backend/manage.py:E402
    # Scripts avec setup avant imports (intentionnel)
    backend/scripts/**/*.py:E402
    # Tests avec setup avant imports (intentionnel)
    backend/tests/conftest.py:E402
    backend/tests/**/*.py:E402
    # Migrations Alembic autogénérées
    backend/migrations/**/*.py:F401,E501
    backend/migrations/versions/**/*.py:F401,E501