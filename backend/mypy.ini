[mypy]
python_version = 3.11
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = False
ignore_missing_imports = True
show_error_codes = True

# Ignorer certains types d'erreurs courantes
# - SQLAlchemy db.Model (problème connu avec Flask-SQLAlchemy)
# - Modules avec stubs manquants
# - Attributs dynamiques Flask
[mypy-*.Model]
ignore_errors = True

[mypy-ext.*]
ignore_missing_imports = True

[mypy-ext.db]
ignore_errors = True

[mypy-models.*]
ignore_missing_imports = True

[mypy-flask.*]
ignore_missing_imports = True

[mypy-flask_sqlalchemy.*]
ignore_missing_imports = True

[mypy-sqlalchemy.*]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True

[mypy-prometheus_client.*]
ignore_missing_imports = True

[mypy-*prometheus*]
ignore_missing_imports = True

[mypy-opentelemetry.*]
ignore_missing_imports = True

[mypy-marshmallow.*]
ignore_missing_imports = True

# Ignorer les erreurs dans les migrations (auto-générées par Alembic)
[mypy-migrations.*]
ignore_errors = True

# Ignorer les erreurs dans les tests (pour l'instant)
[mypy-tests.*]
disallow_untyped_defs = False
ignore_errors = True

# Fichiers spécifiques avec beaucoup d'erreurs (à corriger progressivement)
[mypy-services.api_slo]
ignore_errors = True

[mypy-services.unified_dispatch.osrm_cache_metrics]
ignore_errors = True

[mypy-services.unified_dispatch.dispatch_prometheus_metrics]
ignore_errors = True

[mypy-middleware.metrics]
ignore_errors = True

[mypy-shared.otel_setup]
ignore_errors = True

[mypy-app]
ignore_errors = True

[mypy-routes.*]
ignore_errors = True

[mypy-sockets.*]
ignore_errors = True

