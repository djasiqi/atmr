# ============================================
# CONFIGURATION BACKEND - ATMR
# ============================================

# ===== ENVIRONNEMENT =====
FLASK_ENV=development
FLASK_CONFIG=development
FLASK_APP=app.py

# ===== SÉCURITÉ =====
# Clé secrète Flask (générer avec: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=your-secret-key-here-change-in-production

# Clé JWT (générer avec: python -c "import secrets; print(secrets.token_hex(32))")
JWT_SECRET_KEY=your-jwt-secret-key-here-change-in-production

# ?? Clé de chiffrement pour données sensibles (base64)
APP_ENCRYPTION_KEY_B64=K7x9mP2vN8qR5wT1yU4oL6jH3gF0dS8aZ2cV7bM9nX1=

# ===== GOOGLE MAPS APIS =====
# Clé API Google (Geocoding + Places + Distance Matrix)
# Créée le 18 oct. 2025 - APIs activées: Geocoding API, Places API
GOOGLE_MAPS_API_KEY=AIzaSyBjQWCgiGpLJsrp_jmSDC1reBeqgerA7uE

# Activer/désactiver Google Places API (true/false)
# Si false, utilise Photon (OpenStreetMap) comme fallback
USE_GOOGLE_PLACES=true

# ===== BASE DE DONNÉES =====
DATABASE_URL=postgresql+psycopg://atmr:atmr@localhost:5432/atmr

# Pool de connexions
SQLALCHEMY_POOL_SIZE=10
SQLALCHEMY_MAX_OVERFLOW=20
SQLALCHEMY_POOL_TIMEOUT=30
SQLALCHEMY_POOL_RECYCLE=1800

# ===== REDIS & CELERY =====
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TIMEZONE=Europe/Zurich

# ===== DISPATCH AUTOMATIQUE =====
DISPATCH_AUTORUN_ENABLED=true
DISPATCH_AUTORUN_INTERVAL_SEC=300
UD_OSRM_URL=http://osrm:5000

# ===== EMAIL (SMTP) =====
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@example.com
MAIL_PASSWORD=your-app-password-here
MAIL_DEFAULT_SENDER=noreply@atmr.ch

# ===== PDF GENERATION =====
# URL publique du backend (pour génération PDF)
PDF_BASE_URL=http://localhost:5000

# ===== UPLOADS =====
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=16777216
UPLOADS_PUBLIC_BASE=/uploads

# ===== SENTRY (MONITORING) =====
# DSN Sentry (obtenir sur sentry.io)
SENTRY_DSN=

# ===== CORS =====
# Origines autorisées (séparées par des virgules)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ===== LOGGING =====
APP_LOG_LEVEL=INFO
MASK_PII_LOGS=true

# ===== SESSION =====
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax
REMEMBER_COOKIE_SECURE=false
REMEMBER_COOKIE_HTTPONLY=true
REMEMBER_COOKIE_SAMESITE=Lax

# ===== TIMEZONE =====
TZ=Europe/Zurich

# ===== OPENWATHER_API_KEY =====
OPENWEATHER_API_KEY=68700f6462b4c098e4d1a10c041378c6

#  D2: Clé d'encryption maître (AES-256)
MASTER_ENCRYPTION_KEY=508068e4beb962208b3dddd322643a6210aa43346eac699a6fe0cc1310e6a10f
