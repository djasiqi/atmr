--- a/backend/sockets/chat.py
+++ b/backend/sockets/chat.py
@@ -305,11 +305,26 @@
                 emit("error", {"error": "Chauffeur introuvable ou non li√© √† une entreprise."})
                 return
 
             latitude = data.get("latitude")
             longitude = data.get("longitude")
-            if latitude is None or longitude is None:
+            
+            # ‚úÖ Validation stricte lat/lon
+            try:
+                lat = float(latitude)
+                lon = float(longitude)
+            except (TypeError, ValueError):
                 emit("error", {"error": "Latitude et longitude requises."})
                 return
+            
+            # ‚úÖ Validation bornes g√©ographiques
+            if not (-90 <= lat <= 90):
+                emit("error", {"error": "Latitude invalide (doit √™tre entre -90 et 90)."})
+                return
+            
+            if not (-180 <= lon <= 180):
+                emit("error", {"error": "Longitude invalide (doit √™tre entre -180 et 180)."})
+                return
+            
+            latitude, longitude = lat, lon
 
             company_room = f"company_{company_id_val}"
             cast(Any, emit)(
@@ -320,6 +335,26 @@
                     "longitude": longitude,
                     "timestamp": datetime.now(timezone.utc).isoformat(),
                 },
                 room=company_room,
             )
+            
+            # ‚úÖ Persist location dans Redis (TTL 5min)
+            try:
+                key = f"driver:{driver.id}:loc"
+                redis_client.hmset(key, {
+                    "lat": latitude,
+                    "lon": longitude,
+                    "ts": datetime.now(timezone.utc).isoformat(),
+                    "driver_id": driver.id,
+                    "company_id": company_id_val
+                })
+                redis_client.expire(key, 300)  # 5 minutes TTL
+            except Exception as e:
+                logger.warning(f"‚ö†Ô∏è Redis location persist failed: {e}")
+            
             logger.info(f"üì° Loc -> {company_room} (driver {driver.id}) {latitude},{longitude}")
 
         except Exception as e:

--- a/backend/sockets/chat.py
+++ b/backend/sockets/chat.py
@@ -145,10 +145,18 @@
                 return
 
             content = (data.get("content") or "").strip()
+            
+            # ‚úÖ Validation longueur message
+            if len(content) > 1000:
+                emit("error", {"error": "Message trop long (max 1000 caract√®res)."})
+                return
+            
             receiver_id = data.get("receiver_id")
             timestamp = datetime.now(timezone.utc)
             if not content:
                 emit("error", {"error": "Message vide non autoris√©."})
                 return
+            
+            # ‚úÖ Validation receiver_id si fourni
+            if receiver_id is not None:
+                try:
+                    receiver_id = int(receiver_id)
+                    if receiver_id <= 0:
+                        raise ValueError()
+                except (TypeError, ValueError):
+                    emit("error", {"error": "receiver_id invalide."})
+                    return
 
             if user.role == UserRole.driver:

